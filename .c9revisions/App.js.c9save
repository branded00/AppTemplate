{"ts":1349292573468,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"Ext.define('CustomApp', {\n    extend: 'Rally.app.App',\n    componentCls: 'app',\n\n    launch: function() {\n        //Write app code here\n    }\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":146}]],"length":146}
{"contributors":["goldbrickin@gmail.com"],"silentsave":false,"ts":1349293325749,"patch":[[{"diffs":[[0,"    "],[-1,"//Write app code here"],[1,"Rally.data.ModelFactory.getModel({\n                        type: 'UserStory',\n                        success: function(model) {\n                            this.grid = this.add({\n                                xtype: 'rallygrid',\n                                model: model,\n                                columnCfgs: [\n                                    'FormattedID',\n                                    'Name',\n                                    'Owner'\n                                ],\n                                storeConfig: {\n                                    filters: [\n                                        {\n                                            property: 'ScheduleState',\n                                            operator: '=',\n                                            value: 'Defined'\n                                        }\n                                    ]\n                                }\n                            });\n                        },\n                        scope: this\n                    });"],[0,"\n   "]],"start1":110,"start2":110,"length1":29,"length2":1065}]],"length":1182,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349298005131,"patch":[[{"diffs":[[0,"e: '"],[-1,"UserStory"],[1,"Task"],[0,"',\n "]],"start1":176,"start2":176,"length1":17,"length2":12},{"diffs":[[0,"y: '"],[-1,"ScheduleState"],[1,"Owner"],[0,"',\n "]],"start1":794,"start2":794,"length1":21,"length2":13},{"diffs":[[0,"ue: "],[-1,"'Defined'"],[1,"this.getContext().getUser()._ref\n                                        },\n                                        {\n                                            property: 'Iteration.StartDate'\n                                            operator: '<'\n                                            value: new Date()"],[0,"\n   "]],"start1":912,"start2":912,"length1":17,"length2":321}]],"length":1473,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349298365235,"patch":[[{"diffs":[[0,"artDate'"],[1,","],[0,"\n       "]],"start1":1101,"start2":1101,"length1":16,"length2":17},{"diffs":[[0,"tor: '<'"],[1,","],[0,"\n       "]],"start1":1160,"start2":1160,"length1":16,"length2":17}]],"length":1475,"saved":false}
{"ts":1349298917327,"patch":[[{"diffs":[[0,"y: '"],[-1,"Iteration.StartD"],[1,"St"],[0,"ate'"]],"start1":1085,"start2":1085,"length1":24,"length2":10},{"diffs":[[0,"r: '"],[-1,"<"],[1,"!="],[0,"',\n "]],"start1":1148,"start2":1148,"length1":9,"length2":10},{"diffs":[[0,"ue: "],[-1,"new Date()"],[1,"'Accepted'"],[0,"\n   "]],"start1":1204,"start2":1204,"length1":18,"length2":18}]],"length":1462,"saved":false}
{"ts":1349299553973,"patch":[[{"diffs":[[0," 'Owner'"],[1,",\n                                    'ToDo'"],[0,"\n"],[-1,""],[0,"        "]],"start1":563,"start2":563,"length1":17,"length2":61},{"diffs":[[0,"     ],\n"],[1,"                                \n"],[0,"        "]],"start1":643,"start2":643,"length1":16,"length2":49},{"diffs":[[0,"y: '"],[-1,"St"],[1,"Iteration.StartD"],[0,"ate'"]],"start1":1162,"start2":1162,"length1":10,"length2":24},{"diffs":[[0,"r: '"],[-1,"!"],[1,"<"],[0,"=',\n"]],"start1":1239,"start2":1239,"length1":9,"length2":9},{"diffs":[[0,"ue: "],[-1,"'Accepted'"],[1,"Rally.util.DateTime.toIsoString(new Date(), false)\n                                        },\n                                        {\n                                            property: 'Iteration.EndDate',\n                                            operator: '>=',\n                                            value: Rally.util.DateTime.toIsoString(new Date(), false)"],[0,"\n   "]],"start1":1295,"start2":1295,"length1":18,"length2":380}]],"length":1915,"saved":false}
{"ts":1349299642408,"patch":[[{"diffs":[[0,"       'Owner',\n"],[1,"                                    'State',\n"],[0,"                "]],"start1":557,"start2":557,"length1":32,"length2":77}]],"length":1960,"saved":false}
{"ts":1349303008275,"patch":[[{"diffs":[[0,"',\n\n"],[1,"\n"],[0,"    "],[-1,"launch: function("],[1,"_loadTasksGrid: function(tasksGridDate"],[0,") {\n"],[1," "],[0,"    "]],"start1":77,"start2":77,"length1":33,"length2":56},{"diffs":[[0,"toIsoString("],[-1,"new "],[1,"tasksGrid"],[0,"Date"],[-1,"()"],[0,", false)\n   "]],"start1":1387,"start2":1387,"length1":34,"length2":37},{"diffs":[[0,"ing("],[-1,"new "],[1,"tasksGrid"],[0,"Date"],[-1,"()"],[0,", fa"]],"start1":1720,"start2":1720,"length1":18,"length2":21},{"diffs":[[0,"e: this\n"],[-1,""],[0,"        "]],"start1":1947,"start2":1947,"length1":16,"length2":16},{"diffs":[[0,"        });\n"],[1,"    },\n    \n    launch: function() {\n        Ext.create('Rally.data.WsapiDataStore', {\n            model: 'TimeEntryValue',\n            listeners: {\n                load: function(store, data, success) {\n                    var badDay = null;\n                    var currentDay = data[0].get('DateVal');\n                    var currentDayHoursCnt = 0;\n                    Ext.Array.each(data, function(record) {\n                        \n                        var recordDate = record.get('DateVal');\n                        if ( Ext.Date.isEqual(recordDate,currentDay) == false ) {\n                            if(currentDayHoursCnt < 8) {\n                                badDay = currentDay;\n                                return false;\n                            } else {\n                                currentDay = recordDate;\n                            }\n                        } \n                        currentDayHoursCnt += record.get('Hours');\n                    });\n                    var htmlMessage = '<span class=\"ok\">All is well.</span>';\n                    if(badDay != null) {\n                        htmlMessage = '<span class=\"bad\">You only entered ' + currentDayHoursCnt + ' on ' + Rally.util.DateTime.format(badDay, \"D, M d, Y\") + '.</span>';\n                        this._loadTasksGrid(badDay);\n                    }\n                    this.add( {\n                    });\n                },\n                scope: this\n            },\n            fetch: ['Hours','DateVal'],\n            filters: [\n                {\n                    property: 'TimeEntryItem.User',\n                    operator: '=',\n                    value: this.getContext().getUser()._ref\n                },\n                {\n                    property: 'DateVal',\n                    operator: '>',\n                    value: Rally.util.DateTime.toIsoString(Rally.util.DateTime.add(new Date(),'day',-14), false)\n                }],\n            sorters: [\n                {\n                    property: 'DateVal',\n                    direction: 'ASC'\n                }]\n                \n        });\n        \n       \n"],[0,"    }\n});\n"]],"start1":1967,"start2":1967,"length1":22,"length2":2143}]],"length":4110,"saved":false}
{"ts":1349303022351,"patch":[[{"diffs":[[0,"            "],[1,"//"],[0,"this._loadTa"]],"start1":3261,"start2":3261,"length1":24,"length2":26}]],"length":4112,"saved":false}
{"ts":1349303049709,"patch":[[{"diffs":[[0,"               \n"],[1,"                        console.log(record);\n"],[0,"                "]],"start1":2400,"start2":2400,"length1":32,"length2":77}]],"length":4157,"saved":false}
{"ts":1349303092388,"patch":[[{"diffs":[[0," success) {\n"],[1,"                    console.log('in load');\n"],[0,"            "]],"start1":2171,"start2":2171,"length1":24,"length2":68}]],"length":4201,"saved":false}
{"ts":1349303193887,"patch":[[{"diffs":[[0,"unction() {\n"],[1,"        console.log('launching....');\n"],[0,"        Ext."]],"start1":2004,"start2":2004,"length1":24,"length2":62}]],"length":4239,"saved":false}
{"ts":1349303405281,"patch":[[{"diffs":[[0,"ntryValue',\n"],[1,"            autoload: true,\n"],[0,"            "]],"start1":2129,"start2":2129,"length1":24,"length2":52}]],"length":4267,"saved":false}
{"ts":1349303446740,"patch":[[{"diffs":[[0,"    auto"],[-1,"l"],[1,"L"],[0,"oad: tru"]],"start1":2149,"start2":2149,"length1":17,"length2":17}]],"length":4267,"saved":false}
{"ts":1349303482475,"patch":[[{"diffs":[[0,"              }\n"],[1,"                    console.log(htmlMessage);\n"],[0,"                "]],"start1":3465,"start2":3465,"length1":32,"length2":78}]],"length":4313,"saved":false}
{"ts":1349303749869,"patch":[[{"diffs":[[0,"                "],[1,"//"],[0,"console.log(reco"]],"start1":2534,"start2":2534,"length1":32,"length2":34},{"diffs":[[0,"t('Hours');\n"],[1,"                        console.log( currentDay + \" \" currentDayHoursCnt);\n"],[0,"            "]],"start1":3081,"start2":3081,"length1":24,"length2":99}]],"length":4390,"saved":false}
{"ts":1349303780839,"patch":[[{"diffs":[[0,"ay + \" \""],[1," +"],[0," current"]],"start1":3138,"start2":3138,"length1":16,"length2":18}]],"length":4392,"saved":false}
{"ts":1349303808968,"patch":[[{"diffs":[[0,"rdDate;\n"],[1,"                                currentDayHoursCnt = 0;\n"],[0,"        "]],"start1":2961,"start2":2961,"length1":16,"length2":72}]],"length":4448,"saved":false}
{"ts":1349307149547,"patch":[[{"diffs":[[0,"    "],[-1,"launch: function() {\n        console.log('launching....')"],[1,"_lastTenWorkDays: function(currentDate) {\n      var dates = [];\n      while(dates.length() < 10 ){\n          dates.push(currentDate);\n          currentDate = Rally.util.DateTime.add(currentDate, 'day', -1);\n      }\n      return dates;\n    },\n    \n    launch: function() {\n        console.log('launching....');\n        var lastTenWorkDays = this._lastTenWorkDays(new Date());\n        var startDate = lastTenWorkDays[0]"],[0,";\n  "]],"start1":1991,"start2":1991,"length1":65,"length2":425},{"diffs":[[0,"ing("],[-1,"Rally.util.DateTime.add(new Date(),'day',-14)"],[1,"startDate"],[0,", fa"]],"start1":4536,"start2":4536,"length1":53,"length2":17}]],"length":4772,"saved":false}
{"ts":1349307235336,"patch":[[{"diffs":[[0,"tes."],[-1,"push"],[1,"unshift"],[0,"(cur"]],"start1":2106,"start2":2106,"length1":12,"length2":15},{"diffs":[[0,"ate());\n"],[1,"        console.log(lastTenWorkDays);\n"],[0,"        "]],"start1":2365,"start2":2365,"length1":16,"length2":54}]],"length":4813,"saved":false}
{"ts":1349307359841,"patch":[[{"diffs":[[0,"< 10 ){\n"],[1,"          if( currentDate.getDay() != 0 && currentDate.getDay() != 6) {\n  "],[0,"        "]],"start1":2086,"start2":2086,"length1":16,"length2":90},{"diffs":[[0,"rrentDate);\n"],[1,"          }\n"],[0,"          cu"]],"start1":2194,"start2":2194,"length1":24,"length2":36}]],"length":4899,"saved":false}
{"ts":1349307434297,"patch":[[{"diffs":[[0,"s.length"],[-1,"("],[0,") < 10 )"]],"start1":2075,"start2":2075,"length1":17,"length2":16}]],"length":4898,"saved":false}
{"ts":1349307447896,"patch":[[{"diffs":[[0,"s.length"],[-1,")"],[0," < 10 ){"]],"start1":2075,"start2":2075,"length1":17,"length2":16}]],"length":4897,"saved":false}
{"ts":1349307761960,"patch":[[{"diffs":[[0,"ecord);\n"],[1,"                        //TODO: Fix for GMT TZ issues.\n"],[0,"        "]],"start1":3050,"start2":3050,"length1":16,"length2":71}]],"length":4952,"saved":false}
{"ts":1349308105770,"patch":[[{"diffs":[[0,"ayHoursCnt = 0;\n"],[1,"                    var currentRecordIdx = 0;\n                    Ext.Array.each( lastTenWorkDays, function(day) {\n                        \n                        var currentRecordDay = data[currentRecordIdx].get('DateVal');\n                        \n                    });\n                    \n"],[0,"                "]],"start1":2910,"start2":2910,"length1":32,"length2":328}]],"length":5248,"saved":false}
{"ts":1349308359716,"patch":[[{"diffs":[[0,"                "],[1,"                        var recordDate = record.get('DateVal');\n                        while( currentRecordDay == day ) {\n                            if ( Ext.Date.isEqual(recordDate,currentDay) == false ) {\n                                if(currentDayHoursCnt < 8) {\n                                    badDay = currentDay;\n                                    return false;\n                                } else {\n                                    currentDay = recordDate;\n                                    currentDayHoursCnt = 0;\n                                }\n                            } \n                        \n                            currentRecordDay = data[++currentRecordIdx].get('DateVal');"],[0,"\n               "]],"start1":3160,"start2":3160,"length1":32,"length2":748}]],"length":5964,"saved":false}
{"ts":1349308420204,"patch":[[{"diffs":[[0,"');\n"],[-1,"                                                var recordDate = record.get('DateVal');\n"],[0,"    "]],"start1":3148,"start2":3148,"length1":96,"length2":8},{"diffs":[[0,"get('DateVal');\n"],[1,"                        }\n                        if(currentDayHoursCnt < 8) {\n                            // break out\n                        }\n"],[0,"                "]],"start1":3789,"start2":3789,"length1":32,"length2":178}]],"length":6022,"saved":false}
{"ts":1349308502866,"patch":[[{"diffs":[[0,"    "],[-1,"if ( Ext.Date.isEqual(recordDate,currentDay) == false ) {\n                                if(currentDayHoursCnt < 8) {\n                                    badDay = currentDay;\n                                    return false;\n                                } else {\n                                    currentDay = recordDate;\n                                    currentDayHoursCnt = 0;\n                                }\n                            } \n                        "],[1,"currentDayHoursCnt += data[currentRecordIdx].get('Hours');\n"],[0,"\n   "]],"start1":3235,"start2":3235,"length1":485,"length2":67},{"diffs":[[0,"eak out\n"],[-1,""],[0,"        "]],"start1":3499,"start2":3499,"length1":16,"length2":16},{"diffs":[[0,"              }\n"],[1,"                        currentDayHoursCnt = 0;\n"],[0,"                "]],"start1":3517,"start2":3517,"length1":32,"length2":80}]],"length":5652,"saved":false}
{"ts":1349308523398,"patch":[[{"diffs":[[0,"    "],[-1,"// break out"],[1,"badDay = day;\n                            return false;"],[0,"\n   "]],"start1":3490,"start2":3490,"length1":20,"length2":63}]],"length":5695,"saved":false}
{"ts":1349308533848,"patch":[[{"diffs":[[0,"                "],[1,"/*"],[0,"\n               "]],"start1":3652,"start2":3652,"length1":32,"length2":34},{"diffs":[[0,"            });\n"],[1,"                    */\n"],[0,"                "]],"start1":4519,"start2":4519,"length1":32,"length2":55}]],"length":5720,"saved":false}
{"ts":1349308546387,"patch":[[{"diffs":[[0,"                "],[1,"//"],[0,"var currentDay ="]],"start1":2821,"start2":2821,"length1":32,"length2":34}]],"length":5722,"saved":false}
{"ts":1349308654667,"patch":[[{"diffs":[[0,"le( "],[-1,"currentRecordDay == day "],[1,"Ext.Date.isEqual( Ext.Date.clearTime(currentRecordDay), Ext.Date.clearTime(day))"],[0,") {\n"]],"start1":3181,"start2":3181,"length1":32,"length2":88}]],"length":5778,"saved":false}
{"ts":1349308735995,"patch":[[{"diffs":[[0,"              }\n"],[1,"                        console.log(day + \" for \" + currentDayHoursCnt);\n"],[0,"                "]],"start1":3455,"start2":3455,"length1":32,"length2":105}]],"length":5851,"saved":false}
